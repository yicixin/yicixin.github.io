<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css integrity=sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.2.1.slim.min.js integrity=sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js integrity=sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js integrity=sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl crossorigin=anonymous></script><title>ä¸€äº›ruståŸºç¡€çŸ¥è¯† | yicixin's blog</title>
<meta name=keywords content="rust"><meta name=description content="å˜é‡ä¸å¯å˜æ€§ å˜é‡çš„å¯å˜æ€§ rustä¸­è¿›è¡Œå˜é‡çš„å£°æ˜æ—¶ï¼Œä½¿ç”¨letå…³é”®å­—ï¼Œå¦‚:
let x; è¿™æ ·å£°æ˜å‡ºæ¥çš„å˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œä¸å¯ä»¥è¿›è¡Œç¬¬äºŒæ¬¡èµ‹å€¼ã€‚ å¦‚æœéœ€è¦åç»­å¯ä»¥ä¿®æ”¹è¿™ä¸ªå˜é‡ï¼Œåœ¨å£°æ˜æ—¶éœ€è¦åŠ ä¸Šmutå…³é”®å­—:
let mut x; å¸¸é‡ å£°æ˜å¸¸é‡ä½¿ç”¨Â constÂ å…³é”®å­—è€Œä¸æ˜¯Â letï¼Œå¹¶ä¸”å¿…é¡»æ³¨æ˜å€¼çš„ç±»å‹ï¼Œä¸”å£°æ˜æ—¶å°±å¿…é¡»èµ‹å€¼ã€‚
// âœ… const THREE_HOURS_IN_SECONDS: u32 = 3 * 60 * 60; // âŒ const THREE_HOURS_IN_SECONDS: u32; THREE_HOURS_IN_SECONDS = 3 * 60 * 60 ä¸å¯å˜å˜é‡ä¸å¸¸é‡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?
é¦–å…ˆä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå£°æ˜å¸¸é‡æ—¶æä¾›çš„å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸé—´å°±å¯ä»¥è®¡ç®—å‡ºæ¥çš„ï¼Œè€Œä¸å¯å˜å˜é‡è™½ç„¶ä¸å¯å˜ï¼Œä½†æ˜¯å£°æ˜æ—¶å¯ä»¥ä½¿ç”¨è¿è¡Œæ—¶å€¼ã€‚ å†…å­˜å¸ƒå±€è§’åº¦æ¥çœ‹ï¼Œå¸¸é‡ä¸€èˆ¬éƒ½æ˜¯å­˜å‚¨åœ¨æ•°æ®æ®µï¼Œè€Œå˜é‡ä¼šåœ¨æ ˆåŒºæˆ–å †åŒºã€‚ éšè— rustä¸­ï¼Œå¯ä»¥ä½¿ç”¨letå®šä¹‰ä¸€ä¸ªä¸ä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œæ­¤æ—¶åŒåçš„ç¬¬ä¸€ä¸ªå˜é‡éšè—äº†ã€‚
fn main() { // å®šä¹‰x let x = 5; // å†æ¬¡å®šä¹‰xï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªxè¢«éšè— let x = 6; { // å†æ¬¡å®šä¹‰xï¼Œä½†æ˜¯ä»…åœ¨è¯¥ä½œç”¨åŸŸå†…ç”Ÿæ•ˆ let x = x * 2; println!(&#34;The value of x in the inner scope is: {x}&#34;); // 12 } println!"><meta name=author content="å£¹æ¬¡å¿ƒ"><link rel=canonical href=https://www.yici.xin/post/tech/%E4%B8%80%E4%BA%9Brust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.b35f27175e1d679d5ac37249ed25e28b57702f4740c052621132f937b795fa44.css integrity="sha256-s18nF14dZ51aw3JJ7SXii1dwL0dAwFJiETL5N7eV+kQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/js/extended.js></script><link rel=icon href=https://yicixin-blog-image.oss-accelerate.aliyuncs.com/img/202211171234877.jpg><link rel=icon type=image/png sizes=16x16 href=https://yicixin-blog-image.oss-accelerate.aliyuncs.com/img/202211171234877.jpg><link rel=icon type=image/png sizes=32x32 href=https://yicixin-blog-image.oss-accelerate.aliyuncs.com/img/202211171234877.jpg><link rel=apple-touch-icon href=https://yicixin-blog-image.oss-accelerate.aliyuncs.com/img/202211171234877.jpg><link rel=mask-icon href=https://yicixin-blog-image.oss-accelerate.aliyuncs.com/img/202211171234877.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="ä¸€äº›ruståŸºç¡€çŸ¥è¯†"><meta property="og:description" content="å˜é‡ä¸å¯å˜æ€§ å˜é‡çš„å¯å˜æ€§ rustä¸­è¿›è¡Œå˜é‡çš„å£°æ˜æ—¶ï¼Œä½¿ç”¨letå…³é”®å­—ï¼Œå¦‚:
let x; è¿™æ ·å£°æ˜å‡ºæ¥çš„å˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œä¸å¯ä»¥è¿›è¡Œç¬¬äºŒæ¬¡èµ‹å€¼ã€‚ å¦‚æœéœ€è¦åç»­å¯ä»¥ä¿®æ”¹è¿™ä¸ªå˜é‡ï¼Œåœ¨å£°æ˜æ—¶éœ€è¦åŠ ä¸Šmutå…³é”®å­—:
let mut x; å¸¸é‡ å£°æ˜å¸¸é‡ä½¿ç”¨Â constÂ å…³é”®å­—è€Œä¸æ˜¯Â letï¼Œå¹¶ä¸”å¿…é¡»æ³¨æ˜å€¼çš„ç±»å‹ï¼Œä¸”å£°æ˜æ—¶å°±å¿…é¡»èµ‹å€¼ã€‚
// âœ… const THREE_HOURS_IN_SECONDS: u32 = 3 * 60 * 60; // âŒ const THREE_HOURS_IN_SECONDS: u32; THREE_HOURS_IN_SECONDS = 3 * 60 * 60 ä¸å¯å˜å˜é‡ä¸å¸¸é‡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?
é¦–å…ˆä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå£°æ˜å¸¸é‡æ—¶æä¾›çš„å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸé—´å°±å¯ä»¥è®¡ç®—å‡ºæ¥çš„ï¼Œè€Œä¸å¯å˜å˜é‡è™½ç„¶ä¸å¯å˜ï¼Œä½†æ˜¯å£°æ˜æ—¶å¯ä»¥ä½¿ç”¨è¿è¡Œæ—¶å€¼ã€‚ å†…å­˜å¸ƒå±€è§’åº¦æ¥çœ‹ï¼Œå¸¸é‡ä¸€èˆ¬éƒ½æ˜¯å­˜å‚¨åœ¨æ•°æ®æ®µï¼Œè€Œå˜é‡ä¼šåœ¨æ ˆåŒºæˆ–å †åŒºã€‚ éšè— rustä¸­ï¼Œå¯ä»¥ä½¿ç”¨letå®šä¹‰ä¸€ä¸ªä¸ä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œæ­¤æ—¶åŒåçš„ç¬¬ä¸€ä¸ªå˜é‡éšè—äº†ã€‚
fn main() { // å®šä¹‰x let x = 5; // å†æ¬¡å®šä¹‰xï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªxè¢«éšè— let x = 6; { // å†æ¬¡å®šä¹‰xï¼Œä½†æ˜¯ä»…åœ¨è¯¥ä½œç”¨åŸŸå†…ç”Ÿæ•ˆ let x = x * 2; println!(&#34;The value of x in the inner scope is: {x}&#34;); // 12 } println!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.yici.xin/post/tech/%E4%B8%80%E4%BA%9Brust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><meta property="og:image" content="https://www.yici.xin/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-12-21T18:14:01+08:00"><meta property="article:modified_time" content="2022-12-21T18:14:01+08:00"><meta property="og:site_name" content="yicixin's blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.yici.xin/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="ä¸€äº›ruståŸºç¡€çŸ¥è¯†"><meta name=twitter:description content="å˜é‡ä¸å¯å˜æ€§ å˜é‡çš„å¯å˜æ€§ rustä¸­è¿›è¡Œå˜é‡çš„å£°æ˜æ—¶ï¼Œä½¿ç”¨letå…³é”®å­—ï¼Œå¦‚:
let x; è¿™æ ·å£°æ˜å‡ºæ¥çš„å˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œä¸å¯ä»¥è¿›è¡Œç¬¬äºŒæ¬¡èµ‹å€¼ã€‚ å¦‚æœéœ€è¦åç»­å¯ä»¥ä¿®æ”¹è¿™ä¸ªå˜é‡ï¼Œåœ¨å£°æ˜æ—¶éœ€è¦åŠ ä¸Šmutå…³é”®å­—:
let mut x; å¸¸é‡ å£°æ˜å¸¸é‡ä½¿ç”¨Â constÂ å…³é”®å­—è€Œä¸æ˜¯Â letï¼Œå¹¶ä¸”å¿…é¡»æ³¨æ˜å€¼çš„ç±»å‹ï¼Œä¸”å£°æ˜æ—¶å°±å¿…é¡»èµ‹å€¼ã€‚
// âœ… const THREE_HOURS_IN_SECONDS: u32 = 3 * 60 * 60; // âŒ const THREE_HOURS_IN_SECONDS: u32; THREE_HOURS_IN_SECONDS = 3 * 60 * 60 ä¸å¯å˜å˜é‡ä¸å¸¸é‡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?
é¦–å…ˆä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå£°æ˜å¸¸é‡æ—¶æä¾›çš„å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸé—´å°±å¯ä»¥è®¡ç®—å‡ºæ¥çš„ï¼Œè€Œä¸å¯å˜å˜é‡è™½ç„¶ä¸å¯å˜ï¼Œä½†æ˜¯å£°æ˜æ—¶å¯ä»¥ä½¿ç”¨è¿è¡Œæ—¶å€¼ã€‚ å†…å­˜å¸ƒå±€è§’åº¦æ¥çœ‹ï¼Œå¸¸é‡ä¸€èˆ¬éƒ½æ˜¯å­˜å‚¨åœ¨æ•°æ®æ®µï¼Œè€Œå˜é‡ä¼šåœ¨æ ˆåŒºæˆ–å †åŒºã€‚ éšè— rustä¸­ï¼Œå¯ä»¥ä½¿ç”¨letå®šä¹‰ä¸€ä¸ªä¸ä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œæ­¤æ—¶åŒåçš„ç¬¬ä¸€ä¸ªå˜é‡éšè—äº†ã€‚
fn main() { // å®šä¹‰x let x = 5; // å†æ¬¡å®šä¹‰xï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªxè¢«éšè— let x = 6; { // å†æ¬¡å®šä¹‰xï¼Œä½†æ˜¯ä»…åœ¨è¯¥ä½œç”¨åŸŸå†…ç”Ÿæ•ˆ let x = x * 2; println!(&#34;The value of x in the inner scope is: {x}&#34;); // 12 } println!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.yici.xin/post/"},{"@type":"ListItem","position":2,"name":"ğŸ‘¨ğŸ»â€ğŸ’»æŠ€æœ¯","item":"https://www.yici.xin/post/tech/"},{"@type":"ListItem","position":3,"name":"ä¸€äº›ruståŸºç¡€çŸ¥è¯†","item":"https://www.yici.xin/post/tech/%E4%B8%80%E4%BA%9Brust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ä¸€äº›ruståŸºç¡€çŸ¥è¯†","name":"ä¸€äº›ruståŸºç¡€çŸ¥è¯†","description":"å˜é‡ä¸å¯å˜æ€§ å˜é‡çš„å¯å˜æ€§ rustä¸­è¿›è¡Œå˜é‡çš„å£°æ˜æ—¶ï¼Œä½¿ç”¨letå…³é”®å­—ï¼Œå¦‚:\nlet x; è¿™æ ·å£°æ˜å‡ºæ¥çš„å˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œä¸å¯ä»¥è¿›è¡Œç¬¬äºŒæ¬¡èµ‹å€¼ã€‚ å¦‚æœéœ€è¦åç»­å¯ä»¥ä¿®æ”¹è¿™ä¸ªå˜é‡ï¼Œåœ¨å£°æ˜æ—¶éœ€è¦åŠ ä¸Šmutå…³é”®å­—:\nlet mut x; å¸¸é‡ å£°æ˜å¸¸é‡ä½¿ç”¨Â constÂ å…³é”®å­—è€Œä¸æ˜¯Â letï¼Œå¹¶ä¸”å¿…é¡»æ³¨æ˜å€¼çš„ç±»å‹ï¼Œä¸”å£°æ˜æ—¶å°±å¿…é¡»èµ‹å€¼ã€‚\n// âœ… const THREE_HOURS_IN_SECONDS: u32 = 3 * 60 * 60; // âŒ const THREE_HOURS_IN_SECONDS: u32; THREE_HOURS_IN_SECONDS = 3 * 60 * 60 ä¸å¯å˜å˜é‡ä¸å¸¸é‡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?\né¦–å…ˆä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå£°æ˜å¸¸é‡æ—¶æä¾›çš„å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸé—´å°±å¯ä»¥è®¡ç®—å‡ºæ¥çš„ï¼Œè€Œä¸å¯å˜å˜é‡è™½ç„¶ä¸å¯å˜ï¼Œä½†æ˜¯å£°æ˜æ—¶å¯ä»¥ä½¿ç”¨è¿è¡Œæ—¶å€¼ã€‚ å†…å­˜å¸ƒå±€è§’åº¦æ¥çœ‹ï¼Œå¸¸é‡ä¸€èˆ¬éƒ½æ˜¯å­˜å‚¨åœ¨æ•°æ®æ®µï¼Œè€Œå˜é‡ä¼šåœ¨æ ˆåŒºæˆ–å †åŒºã€‚ éšè— rustä¸­ï¼Œå¯ä»¥ä½¿ç”¨letå®šä¹‰ä¸€ä¸ªä¸ä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œæ­¤æ—¶åŒåçš„ç¬¬ä¸€ä¸ªå˜é‡éšè—äº†ã€‚\nfn main() { // å®šä¹‰x let x = 5; // å†æ¬¡å®šä¹‰xï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªxè¢«éšè— let x = 6; { // å†æ¬¡å®šä¹‰xï¼Œä½†æ˜¯ä»…åœ¨è¯¥ä½œç”¨åŸŸå†…ç”Ÿæ•ˆ let x = x * 2; println!(\u0026#34;The value of x in the inner scope is: {x}\u0026#34;); // 12 } println!","keywords":["rust"],"articleBody":"å˜é‡ä¸å¯å˜æ€§ å˜é‡çš„å¯å˜æ€§ rustä¸­è¿›è¡Œå˜é‡çš„å£°æ˜æ—¶ï¼Œä½¿ç”¨letå…³é”®å­—ï¼Œå¦‚:\nlet x; è¿™æ ·å£°æ˜å‡ºæ¥çš„å˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œä¸å¯ä»¥è¿›è¡Œç¬¬äºŒæ¬¡èµ‹å€¼ã€‚ å¦‚æœéœ€è¦åç»­å¯ä»¥ä¿®æ”¹è¿™ä¸ªå˜é‡ï¼Œåœ¨å£°æ˜æ—¶éœ€è¦åŠ ä¸Šmutå…³é”®å­—:\nlet mut x; å¸¸é‡ å£°æ˜å¸¸é‡ä½¿ç”¨Â constÂ å…³é”®å­—è€Œä¸æ˜¯Â letï¼Œå¹¶ä¸”å¿…é¡»æ³¨æ˜å€¼çš„ç±»å‹ï¼Œä¸”å£°æ˜æ—¶å°±å¿…é¡»èµ‹å€¼ã€‚\n// âœ… const THREE_HOURS_IN_SECONDS: u32 = 3 * 60 * 60; // âŒ const THREE_HOURS_IN_SECONDS: u32; THREE_HOURS_IN_SECONDS = 3 * 60 * 60 ä¸å¯å˜å˜é‡ä¸å¸¸é‡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?\né¦–å…ˆä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå£°æ˜å¸¸é‡æ—¶æä¾›çš„å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸé—´å°±å¯ä»¥è®¡ç®—å‡ºæ¥çš„ï¼Œè€Œä¸å¯å˜å˜é‡è™½ç„¶ä¸å¯å˜ï¼Œä½†æ˜¯å£°æ˜æ—¶å¯ä»¥ä½¿ç”¨è¿è¡Œæ—¶å€¼ã€‚ å†…å­˜å¸ƒå±€è§’åº¦æ¥çœ‹ï¼Œå¸¸é‡ä¸€èˆ¬éƒ½æ˜¯å­˜å‚¨åœ¨æ•°æ®æ®µï¼Œè€Œå˜é‡ä¼šåœ¨æ ˆåŒºæˆ–å †åŒºã€‚ éšè— rustä¸­ï¼Œå¯ä»¥ä½¿ç”¨letå®šä¹‰ä¸€ä¸ªä¸ä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œæ­¤æ—¶åŒåçš„ç¬¬ä¸€ä¸ªå˜é‡éšè—äº†ã€‚\nfn main() { // å®šä¹‰x let x = 5; // å†æ¬¡å®šä¹‰xï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªxè¢«éšè— let x = 6; { // å†æ¬¡å®šä¹‰xï¼Œä½†æ˜¯ä»…åœ¨è¯¥ä½œç”¨åŸŸå†…ç”Ÿæ•ˆ let x = x * 2; println!(\"The value of x in the inner scope is: {x}\"); // 12 } println!(\"The value of x is: {x}\"); // 6 } è¯·æ³¨æ„æ–‡ä¸­çš„ç”¨è¯å«ä¹‰ï¼Œæ˜¯éšè—è€Œä¸æ˜¯è¦†ç›–ï¼Œå› ä¸ºæ­¤æ—¶å­˜åœ¨çœŸå®çš„ä¸¤ä¸ªå˜é‡ï¼Œè€Œä¸æ˜¯å¯¹ç¬¬ä¸€ä¸ªå˜é‡è¿›è¡Œå†æ¬¡èµ‹å€¼ã€‚ ä¹çœ‹è¿™ä¸ªæœºåˆ¶çœ‹ç€å¹¶ä¸æ˜¯å¾ˆæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸åŒä½œç”¨åŸŸä¸­çš„é‡åå®šä¹‰ï¼Œè¿™åœ¨å…¶ä»–çš„ç¼–ç¨‹è¯­è¨€æ˜¯å¾ˆå¸¸è§çš„ã€‚å…¶å®è¯¥æœºåˆ¶çš„ä¸»è¦ä½œç”¨ä½“ç°åœ¨å˜é‡çš„é‡å¤å®šä¹‰æ—¶ï¼Œæ˜¯å¯ä»¥ä¿®æ”¹å˜é‡çš„ç±»å‹çš„ã€‚ä¾‹å¦‚:\n// âœ… let spaces = \" \"; let spaces = spaces.len(); è¿™é‡Œçš„spacesæ ‡è¯†ç¬¦æ‰€å¯¹åº”çš„å˜é‡ä»å­—ç¬¦ä¸²ç±»å‹å˜é‡æ”¹æˆäº†å¦ä¸€ä¸ªæ•´æ•°ç±»å‹å˜é‡ï¼Œåœ¨åç»­çš„ä»£ç ä¸­ä½ å¯ä»¥ç»§ç»­ä½¿ç”¨è¿™ä¸ªspaceså˜é‡åè€Œä¸ç”¨å®šä¹‰ä¸€ä¸ªæ–°çš„å˜é‡åæ¥è®°å½•å­—ç¬¦ä¸²é•¿åº¦ï¼Œç±»ä¼¼äºspaces_lengthã€‚åœ¨åŒä¸€ä½œç”¨åŸŸä¸‹çš„é‡å¤å®šä¹‰ï¼Œè¿™ç§è¡Œä¸ºåœ¨å…¶ä»–çš„ç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨çœ¼ä¸­ä¸€èˆ¬éƒ½ç§é”™è¯¯ã€‚\næ•°æ®ç±»å‹ æ ‡é‡ç±»å‹ æ•´å‹ Rust ä¸­çš„æ•´å‹:\né•¿åº¦ æœ‰ç¬¦å· æ— ç¬¦å· 8-bit i8 u8 16-bit i16 u16 32-bit i32 u32 64-bit i64 u64 128-bit i128 u128 arch isize usize isizeÂ å’ŒÂ usizeÂ ç±»å‹ä¾èµ–è¿è¡Œç¨‹åºçš„è®¡ç®—æœºæ¶æ„ï¼š64 ä½æ¶æ„ä¸Šå®ƒä»¬æ˜¯ 64 ä½çš„ï¼Œ 32 ä½æ¶æ„ä¸Šå®ƒä»¬æ˜¯ 32 ä½çš„ã€‚\nRust ä¸­çš„æ•´å‹å­—é¢å€¼:\næ•°å­—å­—é¢å€¼ ä¾‹å­ Decimal (åè¿›åˆ¶) 98_222 Hex (åå…­è¿›åˆ¶) 0xff Octal (å…«è¿›åˆ¶) 0o77 Binary (äºŒè¿›åˆ¶) 0b1111_0000 Byte (å•å­—èŠ‚å­—ç¬¦)(ä»…é™äºu8) bâ€™A' æ•´å½¢æº¢å‡ºé—®é¢˜\næ¯”æ–¹è¯´æœ‰ä¸€ä¸ªÂ u8Â ï¼Œå®ƒå¯ä»¥å­˜æ”¾ä»é›¶åˆ°Â 255Â çš„å€¼ã€‚é‚£ä¹ˆå½“ä½ å°†å…¶ä¿®æ”¹ä¸ºÂ 256Â æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿè¿™è¢«ç§°ä¸º â€œæ•´å‹æº¢å‡ºâ€ï¼ˆâ€œinteger overflowâ€ ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´ä»¥ä¸‹ä¸¤ç§è¡Œä¸ºä¹‹ä¸€çš„å‘ç”Ÿã€‚\nå½“åœ¨ debug æ¨¡å¼ç¼–è¯‘æ—¶ï¼ŒRust æ£€æŸ¥è¿™ç±»é—®é¢˜å¹¶ä½¿ç¨‹åºÂ panicã€‚ åœ¨ release æ„å»ºä¸­ï¼ŒRust ä¸æ£€æµ‹æº¢å‡ºï¼Œç›¸åä¼šè¿›è¡Œä¸€ç§è¢«ç§°ä¸ºäºŒè¿›åˆ¶è¡¥ç å›ç»•ï¼ˆtwoâ€™s complement wrappingï¼‰çš„æ“ä½œã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ¯”æ­¤ç±»å‹èƒ½å®¹çº³æœ€å¤§å€¼è¿˜å¤§çš„å€¼ä¼šå›ç»•åˆ°æœ€å°å€¼ï¼Œå€¼Â 256Â å˜æˆÂ 0ï¼Œå€¼Â 257Â å˜æˆÂ 1ï¼Œä¾æ­¤ç±»æ¨ã€‚ä¾èµ–æ•´å‹å›ç»•è¢«è®¤ä¸ºæ˜¯ä¸€ç§é”™è¯¯ï¼Œå³ä¾¿å¯èƒ½å‡ºç°è¿™ç§è¡Œä¸ºã€‚å¦‚æœä½ ç¡®å®éœ€è¦è¿™ç§è¡Œä¸ºï¼Œæ ‡å‡†åº“ä¸­æœ‰ä¸€ä¸ªç±»å‹æ˜¾å¼æä¾›æ­¤åŠŸèƒ½ï¼ŒWrappingã€‚ æµ®ç‚¹æ•° Rust ä¹Ÿæœ‰ä¸¤ä¸ªåŸç”Ÿçš„Â æµ®ç‚¹æ•°ï¼ˆfloating-point numbersï¼‰ç±»å‹ï¼Œå®ƒä»¬æ˜¯å¸¦å°æ•°ç‚¹çš„æ•°å­—ã€‚Rust çš„æµ®ç‚¹æ•°ç±»å‹æ˜¯Â f32Â å’ŒÂ f64ï¼Œåˆ†åˆ«å  32 ä½å’Œ 64 ä½ã€‚é»˜è®¤ç±»å‹æ˜¯Â f64ï¼Œå› ä¸ºåœ¨ç°ä»£ CPU ä¸­ï¼Œå®ƒä¸Â f32Â é€Ÿåº¦å‡ ä¹ä¸€æ ·ï¼Œä¸è¿‡ç²¾åº¦æ›´é«˜ã€‚æ‰€æœ‰çš„æµ®ç‚¹å‹éƒ½æ˜¯æœ‰ç¬¦å·çš„ã€‚\nfn main() { let x = 2.0; // f64 let y: f32 = 3.0; // f32 } å¸ƒå°”ç±»å‹ æ­£å¦‚å…¶ä»–å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒRust ä¸­çš„å¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼štrueÂ å’ŒÂ falseã€‚Rust ä¸­çš„å¸ƒå°”ç±»å‹ä½¿ç”¨Â boolÂ è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š\nfn main() { let t = true; let f: bool = false; // with explicit type annotation } å­—ç¬¦ Rustçš„Â charÂ ç±»å‹æ˜¯è¯­è¨€ä¸­æœ€åŸç”Ÿçš„å­—æ¯ç±»å‹ã€‚ä¸‹é¢æ˜¯ä¸€äº›å£°æ˜Â charÂ å€¼çš„ä¾‹å­ï¼š\nfn main() { let c = 'z'; let z: char = 'â„¤'; // with explicit type annotation let heart_eyed_cat = 'ğŸ˜»'; } ç”¨å•å¼•å·å£°æ˜Â charÂ å­—é¢é‡ï¼Œä½¿ç”¨åŒå¼•å·å£°æ˜å­—ç¬¦ä¸²å­—é¢é‡ã€‚ Rust çš„Â charÂ ç±»å‹çš„å¤§å°ä¸ºå››ä¸ªå­—èŠ‚(four bytes)ï¼Œå¹¶ä»£è¡¨äº†ä¸€ä¸ª Unicode æ ‡é‡å€¼ï¼ˆUnicode Scalar Valueï¼‰ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æ¯” ASCII è¡¨ç¤ºæ›´å¤šå†…å®¹ã€‚\nåœ¨ Rust ä¸­ï¼Œå¸¦å˜éŸ³ç¬¦å·çš„å­—æ¯ï¼ˆAccented lettersï¼‰ï¼Œä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ç­‰å­—ç¬¦ï¼Œemojiï¼ˆç»˜æ–‡å­—ï¼‰ä»¥åŠé›¶é•¿åº¦çš„ç©ºç™½å­—ç¬¦éƒ½æ˜¯æœ‰æ•ˆçš„Â charÂ å€¼ã€‚\nUnicode æ ‡é‡å€¼åŒ…å«ä»Â U+0000Â åˆ°Â U+D7FFÂ å’ŒÂ U+E000Â åˆ°Â U+10FFFFÂ åœ¨å†…çš„å€¼ã€‚Â â€œä½¿ç”¨å­—ç¬¦ä¸²å­˜å‚¨ UTF-8 ç¼–ç çš„æ–‡æœ¬â€Â ä¸­å°†è¯¦ç»†è®¨è®ºè¿™ä¸ªä¸»é¢˜ã€‚\nå¤åˆç±»å‹ å¤åˆç±»å‹ï¼ˆCompound typesï¼‰å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚Rust æœ‰ä¸¤ä¸ªåŸç”Ÿçš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰å’Œæ•°ç»„ï¼ˆarrayï¼‰ã€‚\nå…ƒç»„ å…ƒç»„æ˜¯ä¸€ä¸ªå°†å¤šä¸ªå…¶ä»–ç±»å‹çš„å€¼ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»å‹çš„ä¸»è¦æ–¹å¼ã€‚å…ƒç»„é•¿åº¦å›ºå®šï¼šä¸€æ—¦å£°æ˜ï¼Œå…¶é•¿åº¦ä¸ä¼šå¢å¤§æˆ–ç¼©å°ã€‚\nfn main() { let tup: (i32, f64, u8) = (500, 6.4, 1); } åˆ›å»ºå…ƒç»„çš„è¯­æ³•å¦‚ä¸Šï¼Œå…ƒç»„ä¸­çš„æ¯ä¸€ä¸ªä½ç½®éƒ½æœ‰ä¸€ä¸ªç±»å‹ï¼Œè€Œä¸”è¿™äº›ä¸åŒå€¼çš„ç±»å‹ä¸å¿…ç›¸åŒçš„ã€‚è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨äº†å¯é€‰çš„ç±»å‹æ³¨è§£ï¼š\nfn main() { let tup: (i32, f64, u8) = (500, 6.4, 1); // âœ… or let tup = (500, 6.4, 1); // âœ… } å…ƒç»„è§£æ„:\nfn main() { let tup = (500, 6.4, 1); let (x, y, z) = tup; println!(\"The value of y is: {y}\"); } è®¿é—®å…ƒç»„ä¸­çš„å…ƒç´ ï¼Œä¸‹æ ‡ä»0å¼€å§‹:\nfn main() { let x: (i32, f64, u8) = (500, 6.4, 1); let five_hundred = x.0; let six_point_four = x.1; let one = x.2; } ä¸å¸¦ä»»ä½•å€¼çš„å…ƒç»„æœ‰ä¸ªç‰¹æ®Šçš„åç§°ï¼Œå«åšÂ å•å…ƒï¼ˆunitï¼‰Â å…ƒç»„ã€‚è¿™ç§å€¼ä»¥åŠå¯¹åº”çš„ç±»å‹éƒ½å†™ä½œÂ ()ï¼Œè¡¨ç¤ºç©ºå€¼æˆ–ç©ºçš„è¿”å›ç±»å‹ã€‚å¦‚æœè¡¨è¾¾å¼ä¸è¿”å›ä»»ä½•å…¶ä»–å€¼ï¼Œåˆ™ä¼šéšå¼è¿”å›å•å…ƒå€¼ã€‚ æ•°ç»„ å¦ä¸€ä¸ªåŒ…å«å¤šä¸ªå€¼çš„æ–¹å¼æ˜¯Â æ•°ç»„ï¼ˆarrayï¼‰ã€‚ä¸å…ƒç»„ä¸åŒï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒã€‚ å£°æ˜æ•°ç»„çš„æ–¹å¼:\nfn main() { let a = [1, 2, 3, 4, 5]; } å’Œgoè¯­è¨€ä¸€æ ·ï¼Œæ•°ç»„éƒ½æ˜¯å¤§å°å›ºå®šçš„ï¼Œå¦‚æœéœ€è¦ç±»sliceçš„å¯å˜é•¿æ•°ç»„ï¼Œrustä¸­ä½¿ç”¨æ ‡å‡†åº“æä¾›çš„vectorã€‚ ä¸€äº›æ”¯æŒçš„å†™æ³•:\n// è¿™é‡Œï¼Œi32æ˜¯æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚åˆ†å·ä¹‹åï¼Œæ•°å­—5è¡¨æ˜è¯¥æ•°ç»„åŒ…å«äº”ä¸ªå…ƒç´ ã€‚ let a: [i32; 5] = [1, 2, 3, 4, 5]; // å˜é‡åä¸ºaçš„æ•°ç»„å°†åŒ…å«5ä¸ªå…ƒç´ ï¼Œè¿™äº›å…ƒç´ çš„å€¼æœ€åˆéƒ½å°†è¢«è®¾ç½®ä¸º3ã€‚ let a = [3; 5]; è®¿é—®æ•°ç»„å…ƒç´ :\nfn main() { let a = [1, 2, 3, 4, 5]; let first = a[0]; let second = a[1]; } å‡½æ•° Rust ä»£ç ä¸­çš„å‡½æ•°å’Œå˜é‡åä½¿ç”¨Â snake caseÂ è§„èŒƒé£æ ¼ï¼Œæ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™å¹¶ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”å•è¯ã€‚\nfn main() { println!(\"Hello, world!\"); another_function(); } fn another_function() { println!(\"Another function.\"); } ä½¿ç”¨fnå…³é”®å­—å£°æ˜å‡½æ•°ã€‚\nå‚æ•° æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸ºæ‹¥æœ‰Â å‚æ•°ï¼ˆparametersï¼‰çš„å‡½æ•°ï¼Œå‚æ•°æ˜¯ç‰¹æ®Šå˜é‡ï¼Œæ˜¯å‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ã€‚å½“å‡½æ•°æ‹¥æœ‰å‚æ•°ï¼ˆå½¢å‚ï¼‰æ—¶ï¼Œå¯ä»¥ä¸ºè¿™äº›å‚æ•°æä¾›å…·ä½“çš„å€¼ï¼ˆå®å‚ï¼‰ã€‚æŠ€æœ¯ä¸Šè®²ï¼Œè¿™äº›å…·ä½“å€¼è¢«ç§°ä¸ºå‚æ•°ï¼ˆargumentsï¼‰ã€‚\nåœ¨å‡½æ•°ç­¾åä¸­ï¼Œå¿…é¡»Â å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹ã€‚è¿™æ˜¯ Rust è®¾è®¡ä¸­ä¸€ä¸ªç»è¿‡æ…é‡è€ƒè™‘çš„å†³å®šï¼šè¦æ±‚åœ¨å‡½æ•°å®šä¹‰ä¸­æä¾›ç±»å‹æ³¨è§£ï¼Œæ„å‘³ç€ç¼–è¯‘å™¨å†ä¹Ÿä¸éœ€è¦ä½ åœ¨ä»£ç çš„å…¶ä»–åœ°æ–¹æ³¨æ˜ç±»å‹æ¥æŒ‡å‡ºä½ çš„æ„å›¾ã€‚è€Œä¸”ï¼Œåœ¨çŸ¥é“å‡½æ•°éœ€è¦ä»€ä¹ˆç±»å‹åï¼Œç¼–è¯‘å™¨å°±èƒ½å¤Ÿç»™å‡ºæ›´æœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯ã€‚\nfn main() { print_labeled_measurement(5, 'h'); } fn print_labeled_measurement(value: i32, unit_label: char) { println!(\"The measurement is: {value}{unit_label}\"); } è¯­å¥å’Œè¡¨è¾¾å¼ è¯­å¥ï¼ˆStatementsï¼‰æ˜¯æ‰§è¡Œä¸€äº›æ“ä½œä½†ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚\nfn main() { let y = 6; // è¯­å¥ let x = (let y = 6); // âŒ } let y = 6Â è¯­å¥å¹¶ä¸è¿”å›å€¼ï¼Œæ‰€ä»¥æ²¡æœ‰å¯ä»¥ç»‘å®šåˆ°Â xÂ ä¸Šçš„å€¼ã€‚è¿™ä¸å…¶ä»–è¯­è¨€ä¸åŒï¼Œä¾‹å¦‚ C å’Œ Rubyï¼Œå®ƒä»¬çš„èµ‹å€¼è¯­å¥ä¼šè¿”å›æ‰€èµ‹çš„å€¼ã€‚åœ¨è¿™äº›è¯­è¨€ä¸­ï¼Œå¯ä»¥è¿™ä¹ˆå†™Â x = y = 6ï¼Œè¿™æ ·Â xÂ å’ŒÂ yÂ çš„å€¼éƒ½æ˜¯Â 6ï¼›Rust ä¸­ä¸èƒ½è¿™æ ·å†™ã€‚\nè¡¨è¾¾å¼ï¼ˆExpressionsï¼‰è®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ã€‚å¤§éƒ¨åˆ† Rust ä»£ç æ˜¯ç”±è¡¨è¾¾å¼ç»„æˆçš„ã€‚è€ƒè™‘ä¸€ä¸ªæ•°å­¦è¿ç®—ï¼Œæ¯”å¦‚Â 5 + 6ï¼Œè¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼å¹¶è®¡ç®—å‡ºå€¼Â 11ã€‚è¡¨è¾¾å¼å¯ä»¥æ˜¯è¯­å¥çš„ä¸€éƒ¨åˆ†ï¼šè¯­å¥Â let y = 6;Â ä¸­çš„Â 6Â æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒè®¡ç®—å‡ºçš„å€¼æ˜¯Â 6ã€‚å‡½æ•°è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚å®è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ç”¨å¤§æ‹¬å·åˆ›å»ºçš„ä¸€ä¸ªæ–°çš„å—ä½œç”¨åŸŸä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼š\nfn main() { let y = { let x = 3; x + 1 // æ³¨æ„è¿™é‡Œç»“å°¾å¤„æ²¡æœ‰åˆ†å· }; println!(\"The value of y is: {y}\"); } å‡½æ•°è¿”å›å€¼ fn main() { let x = plus_one(5); println!(\"The value of x is: {x}\"); } fn plus_one(x: i32) -\u003e i32 { x + 1 // è¡¨è¾¾å¼å½¢å¼è¿”å› âœ… or return x + 1; // è¯­å¥å½¢å¼è¿”å› âœ… } rustä¸­ä¸å¯ä»¥åƒgoä¸€æ ·å¯¹è¿”å›å€¼å‘½åï¼Œä½¿ç”¨-\u003eå¹¶æä¾›è¿”å›å€¼ç±»å‹ã€‚\næ§åˆ¶æµ ifè¡¨è¾¾å¼ ifæ˜¯è¡¨è¾¾å¼è€Œä¸æ˜¯è¯­å¥ ifæ˜¯è¡¨è¾¾å¼ï¼Œå¯ä»¥è¿”å›å€¼ï¼Œæ‰€ä»¥å¯ä»¥åœ¨letçš„å³ä¾§ä½¿ç”¨å®ƒ:\nfn main() { let condition = true; let number = if condition { 5 } else { 6 }; println!(\"The value of number is: {number}\"); } è¿™é‡Œçš„ifæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œå¯¹åº”ä¸¤ä¸ªè¡¨è¾¾å¼ï¼Œæœ€ç»ˆè¿”å›çš„å°±æ˜¯åŒ¹é…åˆ†æ”¯å¯¹åº”è¡¨è¾¾å¼çš„å€¼ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿè¦æ±‚æ‰€æœ‰åˆ†æ”¯å¯¹åº”è¡¨è¾¾å¼å¿…é¡»è¿”å›åŒç±»å‹çš„å€¼ï¼Œå¦‚æœä¸åŒ¹é…ä¼šæŠ¥é”™ã€‚\nfn main() { let condition = true; let number = if condition { 5 } else { \"six\" }; // âŒ ä¸¤ä¸ªè¡¨è¾¾å¼è¿”å›çš„ç±»å‹ä¸ä¸€è‡´ println!(\"The value of number is: {number}\"); } å¾ªç¯ Rust æœ‰ä¸‰ç§å¾ªç¯ï¼šloopã€whileÂ å’ŒÂ forã€‚\nloopå…³é”®å­—æ­é…breakå’Œcontinueä½¿ç”¨:\nfn main() { let mut counter = 0; let result = loop { counter += 1; if counter == 10 { break counter * 2; } else { continue; }; }; println!(\"The result is {result}\"); } å¦‚ä¸Šæ˜¯ä¸€ä¸ªloopè¡¨è¾¾å¼ï¼Œåœ¨loopå†…éƒ¨å¯ä»¥é€šè¿‡breakäº§å‡ºå€¼ã€‚ å½“ç„¶ï¼Œåˆ©ç”¨ifè¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥è¿™ä¹ˆå†™:\nfn main() { let mut counter = 0; let result = loop { counter += 1; break if counter == 10 { counter * 2 } else { continue }; }; println!(\"The result is {result}\"); } å¾ªç¯æ ‡ç­¾\nfn main() { let mut count = 0; // ç»™å®šå¾ªç¯æ ‡ç­¾counting_up 'counting_up: loop { println!(\"count = {count}\"); let mut remaining = 10; loop { println!(\"remaining = {remaining}\"); if remaining == 9 { break; } if count == 2 { // ç›´æ¥è·³å‡ºæ•´ä¸ªå¾ªç¯ break 'counting_up; } remaining -= 1; } count += 1; } println!(\"End count = {count}\"); } whileæ¡ä»¶å¾ªç¯\nfn main() { let mut number = 3; while number != 0 { println!(\"{number}!\"); number -= 1; } println!(\"LIFTOFF!!!\"); } foréå†\nfn main() { let a = [10, 20, 30, 40, 50]; for element in a { println!(\"the value is: {element}\"); } } ","wordCount":"868","inLanguage":"zh","datePublished":"2022-12-21T18:14:01+08:00","dateModified":"2022-12-21T18:14:01+08:00","author":[{"@type":"Person","name":"å£¹æ¬¡å¿ƒ"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.yici.xin/post/tech/%E4%B8%80%E4%BA%9Brust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},"publisher":{"@type":"Organization","name":"yicixin's blog","logo":{"@type":"ImageObject","url":"https://yicixin-blog-image.oss-accelerate.aliyuncs.com/img/202211171234877.jpg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.yici.xin/ accesskey=h title="ğŸ‘€ (Alt + H)">ğŸ‘€</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.yici.xin/tags/ title=æ ‡ç­¾ğŸ·ï¸><span>æ ‡ç­¾ğŸ·ï¸</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.yici.xin/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://www.yici.xin/post/>Posts</a>&nbsp;Â»&nbsp;<a href=https://www.yici.xin/post/tech/>ğŸ‘¨ğŸ»â€ğŸ’»æŠ€æœ¯</a></div><h1 class=post-title>ä¸€äº›ruståŸºç¡€çŸ¥è¯†</h1><div class=post-meta><span title='2022-12-21 18:14:01 +0800 +0800'>2022-12-21</span>&nbsp;Â·&nbsp;å£¹æ¬¡å¿ƒ</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e5%8f%98%e9%87%8f%e4%b8%8e%e5%8f%af%e5%8f%98%e6%80%a7 aria-label=å˜é‡ä¸å¯å˜æ€§>å˜é‡ä¸å¯å˜æ€§</a><ul><li><a href=#%e5%8f%98%e9%87%8f%e7%9a%84%e5%8f%af%e5%8f%98%e6%80%a7 aria-label=å˜é‡çš„å¯å˜æ€§>å˜é‡çš„å¯å˜æ€§</a></li><li><a href=#%e5%b8%b8%e9%87%8f aria-label=å¸¸é‡>å¸¸é‡</a></li><li><a href=#%e9%9a%90%e8%97%8f aria-label=éšè—>éšè—</a></li></ul></li><li><a href=#%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b aria-label=æ•°æ®ç±»å‹>æ•°æ®ç±»å‹</a><ul><li><a href=#%e6%a0%87%e9%87%8f%e7%b1%bb%e5%9e%8b aria-label=æ ‡é‡ç±»å‹>æ ‡é‡ç±»å‹</a><ul><li><a href=#%e6%95%b4%e5%9e%8b aria-label=æ•´å‹>æ•´å‹</a></li><li><a href=#%e6%b5%ae%e7%82%b9%e6%95%b0 aria-label=æµ®ç‚¹æ•°>æµ®ç‚¹æ•°</a></li><li><a href=#%e5%b8%83%e5%b0%94%e7%b1%bb%e5%9e%8b aria-label=å¸ƒå°”ç±»å‹>å¸ƒå°”ç±»å‹</a></li><li><a href=#%e5%ad%97%e7%ac%a6 aria-label=å­—ç¬¦>å­—ç¬¦</a></li></ul></li><li><a href=#%e5%a4%8d%e5%90%88%e7%b1%bb%e5%9e%8b aria-label=å¤åˆç±»å‹>å¤åˆç±»å‹</a><ul><li><a href=#%e5%85%83%e7%bb%84 aria-label=å…ƒç»„>å…ƒç»„</a></li><li><a href=#%e6%95%b0%e7%bb%84 aria-label=æ•°ç»„>æ•°ç»„</a></li></ul></li></ul></li><li><a href=#%e5%87%bd%e6%95%b0 aria-label=å‡½æ•°>å‡½æ•°</a><ul><ul><li><a href=#%e5%8f%82%e6%95%b0 aria-label=å‚æ•°>å‚æ•°</a></li><li><a href=#%e8%af%ad%e5%8f%a5%e5%92%8c%e8%a1%a8%e8%be%be%e5%bc%8f aria-label=è¯­å¥å’Œè¡¨è¾¾å¼>è¯­å¥å’Œè¡¨è¾¾å¼</a></li><li><a href=#%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc aria-label=å‡½æ•°è¿”å›å€¼>å‡½æ•°è¿”å›å€¼</a></li></ul></ul></li><li><a href=#%e6%8e%a7%e5%88%b6%e6%b5%81 aria-label=æ§åˆ¶æµ>æ§åˆ¶æµ</a><ul><li><a href=#if%e8%a1%a8%e8%be%be%e5%bc%8f aria-label=ifè¡¨è¾¾å¼>ifè¡¨è¾¾å¼</a></li><li><a href=#%e5%be%aa%e7%8e%af aria-label=å¾ªç¯>å¾ªç¯</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=å˜é‡ä¸å¯å˜æ€§>å˜é‡ä¸å¯å˜æ€§<a hidden class=anchor aria-hidden=true href=#å˜é‡ä¸å¯å˜æ€§>#</a></h2><h3 id=å˜é‡çš„å¯å˜æ€§>å˜é‡çš„å¯å˜æ€§<a hidden class=anchor aria-hidden=true href=#å˜é‡çš„å¯å˜æ€§>#</a></h3><p>rustä¸­è¿›è¡Œå˜é‡çš„å£°æ˜æ—¶ï¼Œä½¿ç”¨<code>let</code>å…³é”®å­—ï¼Œå¦‚:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>let</span> x;
</span></span></code></pre></div><p>è¿™æ ·å£°æ˜å‡ºæ¥çš„å˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œä¸å¯ä»¥è¿›è¡Œç¬¬äºŒæ¬¡èµ‹å€¼ã€‚
å¦‚æœéœ€è¦åç»­å¯ä»¥ä¿®æ”¹è¿™ä¸ªå˜é‡ï¼Œåœ¨å£°æ˜æ—¶éœ€è¦åŠ ä¸Š<code>mut</code>å…³é”®å­—:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> x;
</span></span></code></pre></div><h3 id=å¸¸é‡>å¸¸é‡<a hidden class=anchor aria-hidden=true href=#å¸¸é‡>#</a></h3><p>å£°æ˜å¸¸é‡ä½¿ç”¨Â <code>const</code>Â å…³é”®å­—è€Œä¸æ˜¯Â <code>let</code>ï¼Œå¹¶ä¸”<strong>å¿…é¡»</strong>æ³¨æ˜å€¼çš„ç±»å‹ï¼Œä¸”å£°æ˜æ—¶å°±å¿…é¡»èµ‹å€¼ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#75715e>// âœ…
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>THREE_HOURS_IN_SECONDS</span>: <span style=color:#66d9ef>u32</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// âŒ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>THREE_HOURS_IN_SECONDS</span>: <span style=color:#66d9ef>u32</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>THREE_HOURS_IN_SECONDS</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span>
</span></span></code></pre></div><style type=text/css media=screen>html{--color-alert-info-text:#24292e;--color-alert-info-bg:#dbedff;--color-alert-info-border:rgba(4, 66, 137, 0.2);--color-alert-warn-text:#24292e;--color-alert-warn-bg:#fffbdd;--color-alert-warn-border:rgba(176, 136, 0, 0.2);--color-alert-error-text:#24292e;--color-alert-error-bg:#ffe3e6;--color-alert-error-border:rgba(158, 28, 35, 0.2);--color-alert-success-text:#24292e;--color-alert-success-bg:#dcffe4;--color-alert-success-border:rgba(23, 111, 44, 0.2)}html[data-theme=dark]{--color-alert-info-text:#79c0ff;--color-alert-info-bg:rgba(56, 139, 253, 0.1);--color-alert-info-border:rgba(56, 139, 253, 0.4);--color-alert-warn-text:#e3b341;--color-alert-warn-bg:rgba(187, 128, 9, 0.1);--color-alert-warn-border:rgba(187, 128, 9, 0.4);--color-alert-error-text:#ff7b72;--color-alert-error-bg:rgba(248, 81, 73, 0.1);--color-alert-error-border:rgba(248, 81, 73, 0.4);--color-alert-success-text:#56d364;--color-alert-success-bg:rgba(46, 160, 67, 0.1);--color-alert-success-border:rgba(46, 160, 67, 0.4)}.tips{position:relative;padding:20px 16px;margin-bottom:20px;border-style:solid;border-width:1px;border-radius:6px;border-left-style:solid;border-left-width:6px}.tips.info{color:var(--color-alert-info-text);background-image:linear-gradient(var(--color-alert-info-bg),var(--color-alert-info-bg));border-color:var(--color-alert-info-border)}.tips.warn{color:var(--color-alert-warn-text);background-image:linear-gradient(var(--color-alert-warn-bg),var(--color-alert-warn-bg));border-color:var(--color-alert-warn-border)}.tips.error{color:var(--color-alert-error-text);background-image:linear-gradient(var(--color-alert-error-bg),var(--color-alert-error-bg));border-color:var(--color-alert-error-border)}.tips.success{color:var(--color-alert-success-text);background-image:linear-gradient(var(--color-alert-success-bg),var(--color-alert-success-bg));border-color:var(--color-alert-success-border)}#tips-title{font-size:19px;font-weight:800;margin-bottom:10px}</style><div class="tips info"><p id=tips-title>ä¸å¯å˜å˜é‡ä¸å¸¸é‡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?</p>é¦–å…ˆä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå£°æ˜å¸¸é‡æ—¶æä¾›çš„å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸé—´å°±å¯ä»¥è®¡ç®—å‡ºæ¥çš„ï¼Œè€Œä¸å¯å˜å˜é‡è™½ç„¶ä¸å¯å˜ï¼Œä½†æ˜¯å£°æ˜æ—¶å¯ä»¥ä½¿ç”¨è¿è¡Œæ—¶å€¼ã€‚
å†…å­˜å¸ƒå±€è§’åº¦æ¥çœ‹ï¼Œå¸¸é‡ä¸€èˆ¬éƒ½æ˜¯å­˜å‚¨åœ¨æ•°æ®æ®µï¼Œè€Œå˜é‡ä¼šåœ¨æ ˆåŒºæˆ–å †åŒºã€‚</div><h3 id=éšè—>éšè—<a hidden class=anchor aria-hidden=true href=#éšè—>#</a></h3><p><code>rust</code>ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>let</code>å®šä¹‰ä¸€ä¸ªä¸ä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œæ­¤æ—¶åŒåçš„ç¬¬ä¸€ä¸ªå˜é‡<strong>éšè—</strong>äº†ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// å®šä¹‰x
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>	<span style=color:#75715e>// å†æ¬¡å®šä¹‰xï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªxè¢«éšè—
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>	    <span style=color:#75715e>// å†æ¬¡å®šä¹‰xï¼Œä½†æ˜¯ä»…åœ¨è¯¥ä½œç”¨åŸŸå†…ç”Ÿæ•ˆ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>let</span> x <span style=color:#f92672>=</span> x <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;The value of x in the inner scope is: </span><span style=color:#e6db74>{x}</span><span style=color:#e6db74>&#34;</span>); <span style=color:#75715e>// 12
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The value of x is: </span><span style=color:#e6db74>{x}</span><span style=color:#e6db74>&#34;</span>); <span style=color:#75715e>// 6
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><div class="tips warn">è¯·æ³¨æ„æ–‡ä¸­çš„ç”¨è¯å«ä¹‰ï¼Œæ˜¯<strong>éšè—</strong>è€Œä¸æ˜¯<strong>è¦†ç›–</strong>ï¼Œå› ä¸ºæ­¤æ—¶å­˜åœ¨çœŸå®çš„ä¸¤ä¸ªå˜é‡ï¼Œè€Œä¸æ˜¯å¯¹ç¬¬ä¸€ä¸ªå˜é‡è¿›è¡Œå†æ¬¡èµ‹å€¼ã€‚</div><p>ä¹çœ‹è¿™ä¸ªæœºåˆ¶çœ‹ç€å¹¶ä¸æ˜¯å¾ˆæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸åŒä½œç”¨åŸŸä¸­çš„é‡åå®šä¹‰ï¼Œè¿™åœ¨å…¶ä»–çš„ç¼–ç¨‹è¯­è¨€æ˜¯å¾ˆå¸¸è§çš„ã€‚å…¶å®è¯¥æœºåˆ¶çš„ä¸»è¦ä½œç”¨ä½“ç°åœ¨å˜é‡çš„é‡å¤å®šä¹‰æ—¶ï¼Œæ˜¯å¯ä»¥ä¿®æ”¹å˜é‡çš„ç±»å‹çš„ã€‚ä¾‹å¦‚:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#75715e>// âœ…
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> spaces <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;   &#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> spaces <span style=color:#f92672>=</span> spaces.len();
</span></span></code></pre></div><p>è¿™é‡Œçš„<code>spaces</code>æ ‡è¯†ç¬¦æ‰€å¯¹åº”çš„å˜é‡ä»å­—ç¬¦ä¸²ç±»å‹å˜é‡æ”¹æˆäº†å¦ä¸€ä¸ªæ•´æ•°ç±»å‹å˜é‡ï¼Œåœ¨åç»­çš„ä»£ç ä¸­ä½ å¯ä»¥ç»§ç»­ä½¿ç”¨è¿™ä¸ª<code>spaces</code>å˜é‡åè€Œä¸ç”¨å®šä¹‰ä¸€ä¸ªæ–°çš„å˜é‡åæ¥è®°å½•å­—ç¬¦ä¸²é•¿åº¦ï¼Œç±»ä¼¼äº<code>spaces_length</code>ã€‚åœ¨åŒä¸€ä½œç”¨åŸŸä¸‹çš„é‡å¤å®šä¹‰ï¼Œè¿™ç§è¡Œä¸ºåœ¨å…¶ä»–çš„ç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨çœ¼ä¸­ä¸€èˆ¬éƒ½ç§é”™è¯¯ã€‚</p><hr><h2 id=æ•°æ®ç±»å‹>æ•°æ®ç±»å‹<a hidden class=anchor aria-hidden=true href=#æ•°æ®ç±»å‹>#</a></h2><h3 id=æ ‡é‡ç±»å‹>æ ‡é‡ç±»å‹<a hidden class=anchor aria-hidden=true href=#æ ‡é‡ç±»å‹>#</a></h3><h4 id=æ•´å‹>æ•´å‹<a hidden class=anchor aria-hidden=true href=#æ•´å‹>#</a></h4><p>Rust ä¸­çš„æ•´å‹:</p><table><thead><tr><th style=text-align:center>é•¿åº¦</th><th style=text-align:center>æœ‰ç¬¦å·</th><th style=text-align:center>æ— ç¬¦å·</th></tr></thead><tbody><tr><td style=text-align:center>8-bit</td><td style=text-align:center>i8</td><td style=text-align:center>u8</td></tr><tr><td style=text-align:center>16-bit</td><td style=text-align:center>i16</td><td style=text-align:center>u16</td></tr><tr><td style=text-align:center>32-bit</td><td style=text-align:center>i32</td><td style=text-align:center>u32</td></tr><tr><td style=text-align:center>64-bit</td><td style=text-align:center>i64</td><td style=text-align:center>u64</td></tr><tr><td style=text-align:center>128-bit</td><td style=text-align:center>i128</td><td style=text-align:center>u128</td></tr><tr><td style=text-align:center>arch</td><td style=text-align:center>isize</td><td style=text-align:center>usize</td></tr></tbody></table><p><code>isize</code>Â å’ŒÂ <code>usize</code>Â ç±»å‹ä¾èµ–è¿è¡Œç¨‹åºçš„è®¡ç®—æœºæ¶æ„ï¼š64 ä½æ¶æ„ä¸Šå®ƒä»¬æ˜¯ 64 ä½çš„ï¼Œ 32 ä½æ¶æ„ä¸Šå®ƒä»¬æ˜¯ 32 ä½çš„ã€‚</p><p>Rust ä¸­çš„æ•´å‹å­—é¢å€¼:</p><table><thead><tr><th style=text-align:center>æ•°å­—å­—é¢å€¼</th><th style=text-align:center>ä¾‹å­</th></tr></thead><tbody><tr><td style=text-align:center>Decimal (åè¿›åˆ¶)</td><td style=text-align:center>98_222</td></tr><tr><td style=text-align:center>Hex (åå…­è¿›åˆ¶)</td><td style=text-align:center>0xff</td></tr><tr><td style=text-align:center>Octal (å…«è¿›åˆ¶)</td><td style=text-align:center>0o77</td></tr><tr><td style=text-align:center>Binary (äºŒè¿›åˆ¶)</td><td style=text-align:center>0b1111_0000</td></tr><tr><td style=text-align:center>Byte (å•å­—èŠ‚å­—ç¬¦)(ä»…é™äº<code>u8</code>)</td><td style=text-align:center>b&rsquo;A'</td></tr></tbody></table><div class="tips warn"><p id=tips-title>æ•´å½¢æº¢å‡ºé—®é¢˜</p><p>æ¯”æ–¹è¯´æœ‰ä¸€ä¸ªÂ <code>u8</code>Â ï¼Œå®ƒå¯ä»¥å­˜æ”¾ä»é›¶åˆ°Â <code>255</code>Â çš„å€¼ã€‚é‚£ä¹ˆå½“ä½ å°†å…¶ä¿®æ”¹ä¸ºÂ <code>256</code>Â æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿè¿™è¢«ç§°ä¸º â€œæ•´å‹æº¢å‡ºâ€ï¼ˆâ€œinteger overflowâ€ ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´ä»¥ä¸‹ä¸¤ç§è¡Œä¸ºä¹‹ä¸€çš„å‘ç”Ÿã€‚</p><ol><li>å½“åœ¨ debug æ¨¡å¼ç¼–è¯‘æ—¶ï¼ŒRust æ£€æŸ¥è¿™ç±»é—®é¢˜å¹¶ä½¿ç¨‹åºÂ <em>panic</em>ã€‚</li><li>åœ¨ release æ„å»ºä¸­ï¼ŒRust ä¸æ£€æµ‹æº¢å‡ºï¼Œç›¸åä¼šè¿›è¡Œä¸€ç§è¢«ç§°ä¸ºäºŒè¿›åˆ¶è¡¥ç å›ç»•ï¼ˆ<em>twoâ€™s complement wrapping</em>ï¼‰çš„æ“ä½œã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ¯”æ­¤ç±»å‹èƒ½å®¹çº³æœ€å¤§å€¼è¿˜å¤§çš„å€¼ä¼šå›ç»•åˆ°æœ€å°å€¼ï¼Œå€¼Â <code>256</code>Â å˜æˆÂ <code>0</code>ï¼Œå€¼Â <code>257</code>Â å˜æˆÂ <code>1</code>ï¼Œä¾æ­¤ç±»æ¨ã€‚ä¾èµ–æ•´å‹å›ç»•è¢«è®¤ä¸ºæ˜¯ä¸€ç§é”™è¯¯ï¼Œå³ä¾¿å¯èƒ½å‡ºç°è¿™ç§è¡Œä¸ºã€‚å¦‚æœä½ ç¡®å®éœ€è¦è¿™ç§è¡Œä¸ºï¼Œæ ‡å‡†åº“ä¸­æœ‰ä¸€ä¸ªç±»å‹æ˜¾å¼æä¾›æ­¤åŠŸèƒ½ï¼Œ<a href=https://doc.rust-lang.org/std/num/struct.Wrapping.html>Wrapping</a>ã€‚</li></ol></div><h4 id=æµ®ç‚¹æ•°>æµ®ç‚¹æ•°<a hidden class=anchor aria-hidden=true href=#æµ®ç‚¹æ•°>#</a></h4><p>Rust ä¹Ÿæœ‰ä¸¤ä¸ªåŸç”Ÿçš„Â <strong>æµ®ç‚¹æ•°</strong>ï¼ˆ<em>floating-point numbers</em>ï¼‰ç±»å‹ï¼Œå®ƒä»¬æ˜¯å¸¦å°æ•°ç‚¹çš„æ•°å­—ã€‚Rust çš„æµ®ç‚¹æ•°ç±»å‹æ˜¯Â <code>f32</code>Â å’ŒÂ <code>f64</code>ï¼Œåˆ†åˆ«å  32 ä½å’Œ 64 ä½ã€‚<strong>é»˜è®¤ç±»å‹æ˜¯Â <code>f64</code></strong>ï¼Œå› ä¸ºåœ¨ç°ä»£ CPU ä¸­ï¼Œå®ƒä¸Â <code>f32</code>Â é€Ÿåº¦å‡ ä¹ä¸€æ ·ï¼Œä¸è¿‡ç²¾åº¦æ›´é«˜ã€‚æ‰€æœ‰çš„æµ®ç‚¹å‹éƒ½æ˜¯æœ‰ç¬¦å·çš„ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>2.0</span>; <span style=color:#75715e>// f64
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> y: <span style=color:#66d9ef>f32</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3.0</span>; <span style=color:#75715e>// f32
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h4 id=å¸ƒå°”ç±»å‹>å¸ƒå°”ç±»å‹<a hidden class=anchor aria-hidden=true href=#å¸ƒå°”ç±»å‹>#</a></h4><p>æ­£å¦‚å…¶ä»–å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒRust ä¸­çš„å¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼š<code>true</code>Â å’ŒÂ <code>false</code>ã€‚Rust ä¸­çš„å¸ƒå°”ç±»å‹ä½¿ç”¨Â <code>bool</code>Â è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> t <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> f: <span style=color:#66d9ef>bool</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>; <span style=color:#75715e>// with explicit type annotation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h4 id=å­—ç¬¦>å­—ç¬¦<a hidden class=anchor aria-hidden=true href=#å­—ç¬¦>#</a></h4><p>Rustçš„Â <code>char</code>Â ç±»å‹æ˜¯è¯­è¨€ä¸­æœ€åŸç”Ÿçš„å­—æ¯ç±»å‹ã€‚ä¸‹é¢æ˜¯ä¸€äº›å£°æ˜Â <code>char</code>Â å€¼çš„ä¾‹å­ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> c <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;z&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> z: <span style=color:#66d9ef>char</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;â„¤&#39;</span>; <span style=color:#75715e>// with explicit type annotation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> heart_eyed_cat <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;ğŸ˜»&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ç”¨å•å¼•å·å£°æ˜Â <code>char</code>Â å­—é¢é‡ï¼Œä½¿ç”¨åŒå¼•å·å£°æ˜å­—ç¬¦ä¸²å­—é¢é‡ã€‚<div class="tips info"><p>Rust çš„Â <code>char</code>Â ç±»å‹çš„å¤§å°ä¸ºå››ä¸ªå­—èŠ‚(four bytes)ï¼Œå¹¶ä»£è¡¨äº†ä¸€ä¸ª Unicode æ ‡é‡å€¼ï¼ˆUnicode Scalar Valueï¼‰ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æ¯” ASCII è¡¨ç¤ºæ›´å¤šå†…å®¹ã€‚</p><p>åœ¨ Rust ä¸­ï¼Œå¸¦å˜éŸ³ç¬¦å·çš„å­—æ¯ï¼ˆAccented lettersï¼‰ï¼Œä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ç­‰å­—ç¬¦ï¼Œemojiï¼ˆç»˜æ–‡å­—ï¼‰ä»¥åŠé›¶é•¿åº¦çš„ç©ºç™½å­—ç¬¦éƒ½æ˜¯æœ‰æ•ˆçš„Â <code>char</code>Â å€¼ã€‚</p><p>Unicode æ ‡é‡å€¼åŒ…å«ä»Â <code>U+0000</code>Â åˆ°Â <code>U+D7FF</code>Â å’ŒÂ <code>U+E000</code>Â åˆ°Â <code>U+10FFFF</code>Â åœ¨å†…çš„å€¼ã€‚Â <a href=https://kaisery.github.io/trpl-zh-cn/ch08-02-strings.html#%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AD%98%E5%82%A8-utf-8-%E7%BC%96%E7%A0%81%E7%9A%84%E6%96%87%E6%9C%AC>â€œä½¿ç”¨å­—ç¬¦ä¸²å­˜å‚¨ UTF-8 ç¼–ç çš„æ–‡æœ¬â€</a>Â ä¸­å°†è¯¦ç»†è®¨è®ºè¿™ä¸ªä¸»é¢˜ã€‚</p></div></p><h3 id=å¤åˆç±»å‹>å¤åˆç±»å‹<a hidden class=anchor aria-hidden=true href=#å¤åˆç±»å‹>#</a></h3><p><strong>å¤åˆç±»å‹</strong>ï¼ˆ<em>Compound types</em>ï¼‰å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚Rust æœ‰ä¸¤ä¸ªåŸç”Ÿçš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰å’Œæ•°ç»„ï¼ˆarrayï¼‰ã€‚</p><h4 id=å…ƒç»„>å…ƒç»„<a hidden class=anchor aria-hidden=true href=#å…ƒç»„>#</a></h4><p>å…ƒç»„æ˜¯ä¸€ä¸ªå°†å¤šä¸ªå…¶ä»–ç±»å‹çš„å€¼ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»å‹çš„ä¸»è¦æ–¹å¼ã€‚<strong>å…ƒç»„é•¿åº¦å›ºå®šï¼šä¸€æ—¦å£°æ˜ï¼Œå…¶é•¿åº¦ä¸ä¼šå¢å¤§æˆ–ç¼©å°ã€‚</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> tup: (<span style=color:#66d9ef>i32</span>, <span style=color:#66d9ef>f64</span>, <span style=color:#66d9ef>u8</span>) <span style=color:#f92672>=</span> (<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>6.4</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>åˆ›å»ºå…ƒç»„çš„è¯­æ³•å¦‚ä¸Šï¼Œå…ƒç»„ä¸­çš„æ¯ä¸€ä¸ªä½ç½®éƒ½æœ‰ä¸€ä¸ªç±»å‹ï¼Œè€Œä¸”è¿™äº›ä¸åŒå€¼çš„ç±»å‹ä¸å¿…ç›¸åŒçš„ã€‚è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨äº†å¯é€‰çš„ç±»å‹æ³¨è§£ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> tup: (<span style=color:#66d9ef>i32</span>, <span style=color:#66d9ef>f64</span>, <span style=color:#66d9ef>u8</span>) <span style=color:#f92672>=</span> (<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>6.4</span>, <span style=color:#ae81ff>1</span>); <span style=color:#75715e>// âœ…
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    or
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> tup <span style=color:#f92672>=</span> (<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>6.4</span>, <span style=color:#ae81ff>1</span>); <span style=color:#75715e>// âœ…
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>å…ƒç»„è§£æ„:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> tup <span style=color:#f92672>=</span> (<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>6.4</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> (x, y, z) <span style=color:#f92672>=</span> tup;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The value of y is: </span><span style=color:#e6db74>{y}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è®¿é—®å…ƒç»„ä¸­çš„å…ƒç´ ï¼Œä¸‹æ ‡ä»0å¼€å§‹:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> x: (<span style=color:#66d9ef>i32</span>, <span style=color:#66d9ef>f64</span>, <span style=color:#66d9ef>u8</span>) <span style=color:#f92672>=</span> (<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>6.4</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> five_hundred <span style=color:#f92672>=</span> x.<span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> six_point_four <span style=color:#f92672>=</span> x.<span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> one <span style=color:#f92672>=</span> x.<span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class="tips info">ä¸å¸¦ä»»ä½•å€¼çš„å…ƒç»„æœ‰ä¸ªç‰¹æ®Šçš„åç§°ï¼Œå«åšÂ <strong>å•å…ƒï¼ˆunitï¼‰</strong>Â å…ƒç»„ã€‚è¿™ç§å€¼ä»¥åŠå¯¹åº”çš„ç±»å‹éƒ½å†™ä½œÂ <code>()</code>ï¼Œè¡¨ç¤ºç©ºå€¼æˆ–ç©ºçš„è¿”å›ç±»å‹ã€‚å¦‚æœè¡¨è¾¾å¼ä¸è¿”å›ä»»ä½•å…¶ä»–å€¼ï¼Œåˆ™ä¼šéšå¼è¿”å›å•å…ƒå€¼ã€‚</div><h4 id=æ•°ç»„>æ•°ç»„<a hidden class=anchor aria-hidden=true href=#æ•°ç»„>#</a></h4><p>å¦ä¸€ä¸ªåŒ…å«å¤šä¸ªå€¼çš„æ–¹å¼æ˜¯Â <strong>æ•°ç»„</strong>ï¼ˆ<em>array</em>ï¼‰ã€‚ä¸å…ƒç»„ä¸åŒï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒã€‚
å£°æ˜æ•°ç»„çš„æ–¹å¼:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å’Œgoè¯­è¨€ä¸€æ ·ï¼Œæ•°ç»„éƒ½æ˜¯å¤§å°å›ºå®šçš„ï¼Œå¦‚æœéœ€è¦ç±»sliceçš„å¯å˜é•¿æ•°ç»„ï¼Œrustä¸­ä½¿ç”¨æ ‡å‡†åº“æä¾›çš„<code>vector</code>ã€‚
ä¸€äº›æ”¯æŒçš„å†™æ³•:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#75715e>// è¿™é‡Œï¼Œi32æ˜¯æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚åˆ†å·ä¹‹åï¼Œæ•°å­—5è¡¨æ˜è¯¥æ•°ç»„åŒ…å«äº”ä¸ªå…ƒç´ ã€‚
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> a: [<span style=color:#66d9ef>i32</span>; <span style=color:#ae81ff>5</span>] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span><span style=color:#75715e>// å˜é‡åä¸ºaçš„æ•°ç»„å°†åŒ…å«5ä¸ªå…ƒç´ ï¼Œè¿™äº›å…ƒç´ çš„å€¼æœ€åˆéƒ½å°†è¢«è®¾ç½®ä¸º3ã€‚
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> [<span style=color:#ae81ff>3</span>; <span style=color:#ae81ff>5</span>];
</span></span></code></pre></div><p>è®¿é—®æ•°ç»„å…ƒç´ :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> first <span style=color:#f92672>=</span> a[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> second <span style=color:#f92672>=</span> a[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><h2 id=å‡½æ•°>å‡½æ•°<a hidden class=anchor aria-hidden=true href=#å‡½æ•°>#</a></h2><p>Rust ä»£ç ä¸­çš„å‡½æ•°å’Œå˜é‡åä½¿ç”¨Â <em>snake case</em>Â è§„èŒƒé£æ ¼ï¼Œæ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™å¹¶ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”å•è¯ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;Hello, world!&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    another_function();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>another_function</span>() {
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;Another function.&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä½¿ç”¨<code>fn</code>å…³é”®å­—å£°æ˜å‡½æ•°ã€‚</p><h4 id=å‚æ•°>å‚æ•°<a hidden class=anchor aria-hidden=true href=#å‚æ•°>#</a></h4><p>æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸ºæ‹¥æœ‰Â <strong>å‚æ•°</strong>ï¼ˆ<em>parameters</em>ï¼‰çš„å‡½æ•°ï¼Œå‚æ•°æ˜¯ç‰¹æ®Šå˜é‡ï¼Œæ˜¯å‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ã€‚å½“å‡½æ•°æ‹¥æœ‰å‚æ•°ï¼ˆå½¢å‚ï¼‰æ—¶ï¼Œå¯ä»¥ä¸ºè¿™äº›å‚æ•°æä¾›å…·ä½“çš„å€¼ï¼ˆå®å‚ï¼‰ã€‚æŠ€æœ¯ä¸Šè®²ï¼Œè¿™äº›å…·ä½“å€¼è¢«ç§°ä¸ºå‚æ•°ï¼ˆ<em>arguments</em>ï¼‰ã€‚</p><p>åœ¨å‡½æ•°ç­¾åä¸­ï¼Œ<strong>å¿…é¡»</strong>Â å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹ã€‚è¿™æ˜¯ Rust è®¾è®¡ä¸­ä¸€ä¸ªç»è¿‡æ…é‡è€ƒè™‘çš„å†³å®šï¼šè¦æ±‚åœ¨å‡½æ•°å®šä¹‰ä¸­æä¾›ç±»å‹æ³¨è§£ï¼Œæ„å‘³ç€ç¼–è¯‘å™¨å†ä¹Ÿä¸éœ€è¦ä½ åœ¨ä»£ç çš„å…¶ä»–åœ°æ–¹æ³¨æ˜ç±»å‹æ¥æŒ‡å‡ºä½ çš„æ„å›¾ã€‚è€Œä¸”ï¼Œåœ¨çŸ¥é“å‡½æ•°éœ€è¦ä»€ä¹ˆç±»å‹åï¼Œç¼–è¯‘å™¨å°±èƒ½å¤Ÿç»™å‡ºæ›´æœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    print_labeled_measurement(<span style=color:#ae81ff>5</span>, <span style=color:#e6db74>&#39;h&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>print_labeled_measurement</span>(value: <span style=color:#66d9ef>i32</span>, unit_label: <span style=color:#66d9ef>char</span>) {
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The measurement is: </span><span style=color:#e6db74>{value}{unit_label}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=è¯­å¥å’Œè¡¨è¾¾å¼>è¯­å¥å’Œè¡¨è¾¾å¼<a hidden class=anchor aria-hidden=true href=#è¯­å¥å’Œè¡¨è¾¾å¼>#</a></h4><p><strong>è¯­å¥</strong>ï¼ˆ<em>Statements</em>ï¼‰æ˜¯æ‰§è¡Œä¸€äº›æ“ä½œä½†ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> y <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>; <span style=color:#75715e>// è¯­å¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> x <span style=color:#f92672>=</span> (<span style=color:#66d9ef>let</span> y <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>); <span style=color:#75715e>// âŒ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p><code>let y = 6</code>Â è¯­å¥å¹¶ä¸è¿”å›å€¼ï¼Œæ‰€ä»¥æ²¡æœ‰å¯ä»¥ç»‘å®šåˆ°Â <code>x</code>Â ä¸Šçš„å€¼ã€‚è¿™ä¸å…¶ä»–è¯­è¨€ä¸åŒï¼Œä¾‹å¦‚ C å’Œ Rubyï¼Œå®ƒä»¬çš„èµ‹å€¼è¯­å¥ä¼šè¿”å›æ‰€èµ‹çš„å€¼ã€‚åœ¨è¿™äº›è¯­è¨€ä¸­ï¼Œå¯ä»¥è¿™ä¹ˆå†™Â <code>x = y = 6</code>ï¼Œè¿™æ ·Â <code>x</code>Â å’ŒÂ <code>y</code>Â çš„å€¼éƒ½æ˜¯Â <code>6</code>ï¼›Rust ä¸­ä¸èƒ½è¿™æ ·å†™ã€‚</p><p>è¡¨è¾¾å¼ï¼ˆ<em>Expressions</em>ï¼‰è®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ã€‚å¤§éƒ¨åˆ† Rust ä»£ç æ˜¯ç”±è¡¨è¾¾å¼ç»„æˆçš„ã€‚è€ƒè™‘ä¸€ä¸ªæ•°å­¦è¿ç®—ï¼Œæ¯”å¦‚Â <code>5 + 6</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼å¹¶è®¡ç®—å‡ºå€¼Â <code>11</code>ã€‚è¡¨è¾¾å¼å¯ä»¥æ˜¯è¯­å¥çš„ä¸€éƒ¨åˆ†ï¼šè¯­å¥Â <code>let y = 6;</code>Â ä¸­çš„Â <code>6</code>Â æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒè®¡ç®—å‡ºçš„å€¼æ˜¯Â <code>6</code>ã€‚å‡½æ•°è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚å®è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ç”¨å¤§æ‹¬å·åˆ›å»ºçš„ä¸€ä¸ªæ–°çš„å—ä½œç”¨åŸŸä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> y <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>        x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>  <span style=color:#75715e>// æ³¨æ„è¿™é‡Œç»“å°¾å¤„æ²¡æœ‰åˆ†å·
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The value of y is: </span><span style=color:#e6db74>{y}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=å‡½æ•°è¿”å›å€¼>å‡½æ•°è¿”å›å€¼<a hidden class=anchor aria-hidden=true href=#å‡½æ•°è¿”å›å€¼>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> x <span style=color:#f92672>=</span> plus_one(<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The value of x is: </span><span style=color:#e6db74>{x}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>plus_one</span>(x: <span style=color:#66d9ef>i32</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>    x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#75715e>// è¡¨è¾¾å¼å½¢å¼è¿”å› âœ…
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    or
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#75715e>// è¯­å¥å½¢å¼è¿”å› âœ…
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>rustä¸­ä¸å¯ä»¥åƒgoä¸€æ ·å¯¹è¿”å›å€¼å‘½åï¼Œä½¿ç”¨->å¹¶æä¾›è¿”å›å€¼ç±»å‹ã€‚</p><h2 id=æ§åˆ¶æµ>æ§åˆ¶æµ<a hidden class=anchor aria-hidden=true href=#æ§åˆ¶æµ>#</a></h2><h3 id=ifè¡¨è¾¾å¼>ifè¡¨è¾¾å¼<a hidden class=anchor aria-hidden=true href=#ifè¡¨è¾¾å¼>#</a></h3><div class="tips warn">ifæ˜¯è¡¨è¾¾å¼è€Œä¸æ˜¯è¯­å¥</div><p>ifæ˜¯è¡¨è¾¾å¼ï¼Œå¯ä»¥è¿”å›å€¼ï¼Œæ‰€ä»¥å¯ä»¥åœ¨letçš„å³ä¾§ä½¿ç”¨å®ƒ:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> condition <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> number <span style=color:#f92672>=</span> <span style=color:#66d9ef>if</span> condition { <span style=color:#ae81ff>5</span> } <span style=color:#66d9ef>else</span> { <span style=color:#ae81ff>6</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The value of number is: </span><span style=color:#e6db74>{number}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¿™é‡Œçš„ifæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œå¯¹åº”ä¸¤ä¸ªè¡¨è¾¾å¼ï¼Œæœ€ç»ˆè¿”å›çš„å°±æ˜¯åŒ¹é…åˆ†æ”¯å¯¹åº”è¡¨è¾¾å¼çš„å€¼ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿè¦æ±‚<strong>æ‰€æœ‰åˆ†æ”¯å¯¹åº”è¡¨è¾¾å¼å¿…é¡»è¿”å›åŒç±»å‹çš„å€¼</strong>ï¼Œå¦‚æœä¸åŒ¹é…ä¼šæŠ¥é”™ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> condition <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> number <span style=color:#f92672>=</span> <span style=color:#66d9ef>if</span> condition { <span style=color:#ae81ff>5</span> } <span style=color:#66d9ef>else</span> { <span style=color:#e6db74>&#34;six&#34;</span> }; <span style=color:#75715e>// âŒ ä¸¤ä¸ªè¡¨è¾¾å¼è¿”å›çš„ç±»å‹ä¸ä¸€è‡´
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The value of number is: </span><span style=color:#e6db74>{number}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=å¾ªç¯>å¾ªç¯<a hidden class=anchor aria-hidden=true href=#å¾ªç¯>#</a></h3><p>Rust æœ‰ä¸‰ç§å¾ªç¯ï¼š<code>loop</code>ã€<code>while</code>Â å’ŒÂ <code>for</code>ã€‚</p><p><code>loop</code>å…³é”®å­—æ­é…<code>break</code>å’Œ<code>continue</code>ä½¿ç”¨:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> counter <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>loop</span> {
</span></span><span style=display:flex><span>        counter <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> counter <span style=color:#f92672>==</span> <span style=color:#ae81ff>10</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span> counter <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The result is </span><span style=color:#e6db74>{result}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å¦‚ä¸Šæ˜¯ä¸€ä¸ª<code>loop</code>è¡¨è¾¾å¼ï¼Œåœ¨<code>loop</code>å†…éƒ¨å¯ä»¥é€šè¿‡<code>break</code>äº§å‡ºå€¼ã€‚
å½“ç„¶ï¼Œåˆ©ç”¨ifè¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥è¿™ä¹ˆå†™:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> counter <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>loop</span> {
</span></span><span style=display:flex><span>        counter <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span> <span style=color:#66d9ef>if</span> counter <span style=color:#f92672>==</span> <span style=color:#ae81ff>10</span> { counter <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> } <span style=color:#66d9ef>else</span> { <span style=color:#66d9ef>continue</span> };
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The result is </span><span style=color:#e6db74>{result}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å¾ªç¯æ ‡ç­¾</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> count <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ç»™å®šå¾ªç¯æ ‡ç­¾counting_up
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>&#39;counting_up</span>: <span style=color:#a6e22e>loop</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;count = </span><span style=color:#e6db74>{count}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> remaining <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>loop</span> {
</span></span><span style=display:flex><span>            println!(<span style=color:#e6db74>&#34;remaining = </span><span style=color:#e6db74>{remaining}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> remaining <span style=color:#f92672>==</span> <span style=color:#ae81ff>9</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> count <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span> {
</span></span><span style=display:flex><span>	            <span style=color:#75715e>// ç›´æ¥è·³å‡ºæ•´ä¸ªå¾ªç¯
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#66d9ef>break</span> &#39;counting_up;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            remaining <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        count <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;End count = </span><span style=color:#e6db74>{count}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>whileæ¡ä»¶å¾ªç¯</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> number <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> number <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{number}</span><span style=color:#e6db74>!&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        number <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;LIFTOFF!!!&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>foréå†</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> [<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>50</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> element <span style=color:#66d9ef>in</span> a {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;the value is: </span><span style=color:#e6db74>{element}</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.yici.xin/tags/rust/>rust</a></li></ul><nav class=paginav><a class=prev href=https://www.yici.xin/post/tech/protobuf%E5%8E%9F%E7%90%86/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>ProtobufåŸç†</span>
</a><a class=next href=https://www.yici.xin/post/tech/go-sync-pool/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>Go Sync Pool</span></a></nav></footer><script type=text/javascript>let giscusTheme=localStorage.getItem("pref-theme")==="light"?"light":"dark_dimmed",giscusAttributes={src:"https://giscus.app/client.js","data-repo":"yicixin/blog_comment","data-repo-id":"R_kgDOIr6QyQ","data-category":"Announcements","data-category-id":"DIC_kwDOIr6Qyc4CTSs3","data-mapping":"title","data-reactions-enabled":"1","data-emit-metadata":"0","data-theme":giscusTheme,"data-lang":"zh-CN",crossorigin:"anonymous","data-loading":"lazy",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([e,t])=>giscusScript.setAttribute(e,t));var article=document.getElementsByTagName("article")[0].appendChild(giscusScript);function changeGiscusTheme(){const e=localStorage.getItem("pref-theme")==="dark"?"light":"dark_dimmed";console.log(e);function t(e){const t=document.querySelector("iframe.giscus-frame");if(!t)return;t.contentWindow.postMessage({giscus:e},"https://giscus.app")}t({setConfig:{theme:e}})}const toggle=document.querySelector("#theme-toggle");toggle&&toggle.addEventListener("click",changeGiscusTheme)</script></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.yici.xin/>yicixin's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="å¤åˆ¶";function s(){t.innerHTML="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerHTML="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script src=https://code.jquery.com/jquery-1.12.4.min.js></script><script>$("code[class^=language] ").on("mouseover",function(){this.clientWidth<this.scrollWidth&&$(this).css("width","135%")}).on("mouseout",function(){$(this).css("width","100%"),$(".copy-code").css("right","4px")})</script></body></html>